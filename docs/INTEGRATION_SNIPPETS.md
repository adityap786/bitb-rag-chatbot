
# BITB Widget Integration Snippets

Production-ready, copy-paste examples for embedding the BITB chatbot widget in major platforms. Each snippet uses the official `bitb-widget.js` and secure tenant authentication.

## SRI Hash Usage
For enhanced security, include the Subresource Integrity (SRI) hash in your script tag:

```html
<script src="https://your-domain.com/bitb-widget.js" data-tenant-id="YOUR_TENANT_ID" data-env="production" integrity="sha384-<SRI_HASH>" crossorigin="anonymous"></script>
```
Replace `<SRI_HASH>` with the value generated by `scripts/generate-sri-hash.ps1`.

---

## Shopify (Online Store Theme)

Add to `theme.liquid` before `</body>`:

```liquid
<!-- BITB Chatbot Widget -->
<script src="https://your-domain.com/bitb-widget.js" data-tenant-id="YOUR_TENANT_ID" data-env="production"></script>
<script>
  window.bitbInit && window.bitbInit({
    tenantId: 'YOUR_TENANT_ID',
    env: 'production',
    onReady: function(widget) {
      // Optional: widget customization
    }
  });
</script>
```

---

## Wix Studio (Custom Code Embed)

Add to Wix Custom Code (Site Footer):

```html
<!-- BITB Chatbot Widget -->
<script src="https://your-domain.com/bitb-widget.js" data-tenant-id="YOUR_TENANT_ID" data-env="production"></script>
<script>
  window.bitbInit && window.bitbInit({
    tenantId: 'YOUR_TENANT_ID',
    env: 'production',
    onReady: function(widget) {
      // Optional: widget customization
    }
  });
</script>
```

---

## Framer (Embed Block)

Add to Framer Embed block:

```html
<!-- BITB Chatbot Widget -->
<script src="https://your-domain.com/bitb-widget.js" data-tenant-id="YOUR_TENANT_ID" data-env="production"></script>
<script>
  window.bitbInit && window.bitbInit({
    tenantId: 'YOUR_TENANT_ID',
    env: 'production',
    onReady: function(widget) {
      // Optional: widget customization
    }
  });
</script>
```

---

## Node.js (SSR/CSR)

### SSR (e.g., Next.js `pages/_document.js` or custom layout)

```jsx
{/* BITB Chatbot Widget */}
<script src="https://your-domain.com/bitb-widget.js" data-tenant-id="YOUR_TENANT_ID" data-env="production"></script>
<script dangerouslySetInnerHTML={{__html:`
  window.bitbInit && window.bitbInit({
    tenantId: 'YOUR_TENANT_ID',
    env: 'production',
    onReady: function(widget) {
      // Optional: widget customization
    }
  });
`}} />
```

### CSR (React, Vue, etc.)

```js
// In your main App component (useEffect for React)
useEffect(() => {
  const script = document.createElement('script');
  script.src = 'https://your-domain.com/bitb-widget.js';
  script.setAttribute('data-tenant-id', 'YOUR_TENANT_ID');
  script.setAttribute('data-env', 'production');
  document.body.appendChild(script);
  script.onload = () => {
    window.bitbInit && window.bitbInit({
      tenantId: 'YOUR_TENANT_ID',
      env: 'production',
      onReady: function(widget) {
        // Optional: widget customization
      }
    });
  };
}, []);
```

---

## Flutter (WebView + Plugin)

### Flutter WebView (Dart)

```dart
WebView(
  initialUrl: Uri.dataFromString('''
    <html>
      <body>
        <script src="https://your-domain.com/bitb-widget.js" data-tenant-id="YOUR_TENANT_ID" data-env="production"></script>
        <script>
          window.bitbInit && window.bitbInit({
            tenantId: 'YOUR_TENANT_ID',
            env: 'production',
            onReady: function(widget) {
              // Optional: widget customization
            }
          });
        </script>
      </body>
    </html>
  ''', mimeType: 'text/html').toString(),
  javascriptMode: JavascriptMode.unrestricted,
)
```

---

## WordPress

### Theme/Header (header.php before </body>)

```php
<!-- BITB Chatbot Widget -->
<script src="https://your-domain.com/bitb-widget.js" data-tenant-id="YOUR_TENANT_ID" data-env="production"></script>
<script>
  window.bitbInit && window.bitbInit({
    tenantId: 'YOUR_TENANT_ID',
    env: 'production',
    onReady: function(widget) {
      // Optional: widget customization
    }
  });
</script>
```

### Plugin (Custom Plugin Main File)

```php
add_action('wp_footer', function() {
  echo '<script src="https://your-domain.com/bitb-widget.js" data-tenant-id="YOUR_TENANT_ID" data-env="production"></script>';
  echo '<script>window.bitbInit && window.bitbInit({tenantId: "YOUR_TENANT_ID", env: "production", onReady: function(widget){}});</script>';
});
```

---

## Notes
- Replace `YOUR_TENANT_ID` with your actual tenant ID.
- Use the correct widget script URL for your deployment.
- For advanced customization, refer to the widget API documentation.
- For security, ensure CSP and CORS headers allow the widget domain.
